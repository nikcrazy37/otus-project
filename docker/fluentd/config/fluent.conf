<system>
  log_level debug
</system>

<match fluentd>
#    @type sql
    @type clickhouse
    host clickhouse
    port 8123
    database default
#    adapter clickhouse
    username default
    password default
#    socket 8123
    table fluentd
#    <table>
#        table fluentd
#        primary_key time
#        column_mapping time:time,tag:tag,data:data
#    </table>
</match>

<source>
    @type forward
    port 24224
    bind 0.0.0.0
    tag fluentd
</source>







#<match **>
#    @type copy

#    <table>
#        table fluentd
#        primary_key time
#        column_mapping 'TimeGenerated:time,tag:tag,data:data'
#      </table>

#    <store>
#        @type file
#        path /var/log/fluent/test
#    </store>

#    <store>
#        @type clickhouse
#        host clickhouse
#        adapter clickhouse
#        port 8123
#        database default
#        username default
#        password default
#        table fluentd

#        <inject>
#          time_key time
#          localtime false
#          tag_key tag
#        </inject>
#        #include_tag_key true
#        #include_time_key true
#        #time_column time
#        #logstash_format true
#        #logstash_prefix fluentd
#        #logstash_dateformat %Y%m%d
#        #type_name access_log
#        #tag_key @log_name
#        #flush_interval 1s
#    </store>

#    <store>
#        @type stdout
#    </store>
#</match>






#<match **>
#  @type file
#  path /var/log/fluent/test
#</match>

#<match **>
#    @type copy
#
#    <store>
#        @type file
#        path /var/log/fluent/test
#    </store>
#
#    <store>
#        @type stdout
#    </store>
#</match>